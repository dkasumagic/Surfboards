<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Surfboard</title>

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="/webui.js"></script>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body class="min-h-screen theme-bg text-neutral-800 antialiased">
    <!-- Absolute positioned toggle -->
    <div class="fixed top-4 left-4 z-50">
      <input type="checkbox" class="peer sr-only opacity-0" id="toggle" />
      <label for="toggle" class="relative flex h-6 w-11 cursor-pointer items-center rounded-full bg-neutral-400 px-0.5 outline-neutral-400 transition-colors before:h-5 before:w-5 before:rounded-full before:bg-white before:shadow before:transition-transform before:duration-300 peer-checked:bg-neutral-600 peer-checked:before:translate-x-full peer-focus-visible:outline peer-focus-visible:outline-offset-2 peer-focus-visible:outline-neutral-400 peer-checked:peer-focus-visible:outline-neutral-600">
        <span class="sr-only">Toggle dark mode</span>
      </label>
    </div>
    <main class="min-h-screen flex items-center justify-center p-6">
      <div class="w-full max-w-5xl">
        <!-- Title and Q format inputs -->
        <div class="flex items-center justify-between mb-12">
          <h1 class="text-6xl md:text-7xl font-semibold theme-text-primary tracking-tight">
            Surfboards
          </h1>

          <!-- Q Format inputs -->
          <div class="flex flex-col gap-3">
            <p class="text-sm theme-text-muted text-right">
              Fixed-point format
            </p>
            <div class="flex items-center gap-3">
              <span class="text-lg theme-text-secondary font-medium">Q</span>
              <input id="q_integer" type="number" min="1" max="32" value="8"
                class="w-20 rounded border theme-input px-4 py-3 text-lg text-center focus:outline-none focus:ring-1 focus:ring-neutral-400">
              <span class="text-lg theme-text-secondary">.</span>
              <input id="q_fractional" type="number" min="0" max="32" value="8"
                class="w-20 rounded border theme-input px-4 py-3 text-lg text-center focus:outline-none focus:ring-1 focus:ring-neutral-400">
            </div>
          </div>
        </div>

        <div class="grid gap-10 md:grid-cols-2">
          <!-- Matrix A -->
          <div id="matrixABox" class="rounded-xl theme-card border shadow-sm p-8 flex flex-col gap-6">
            <h2 class="text-xl font-semibold theme-text-secondary">
              Matrix A
            </h2>
            <div class="flex gap-6">
              <label class="flex flex-col text-sm font-medium theme-text-muted flex-1 uppercase tracking-wide">
                Rows
                <input id="matrixA_rows" type="number" min="1" inputmode="numeric" placeholder="8" value="300"
                  aria-describedby="matrix-a-hint"
                  class="mt-2 w-full rounded-md border theme-input px-4 py-3 text-lg focus:outline-none focus:ring-2 focus:ring-neutral-400">
              </label>
              <label class="flex flex-col text-sm font-medium theme-text-muted flex-1 uppercase tracking-wide">
                Columns
                <input id="matrixA_cols" type="number" min="1" inputmode="numeric" placeholder="12" value="30"
                  aria-describedby="matrix-a-hint"
                  class="mt-2 w-full rounded-md border theme-input px-4 py-3 text-lg focus:outline-none focus:ring-2 focus:ring-neutral-400">
              </label>
            </div>
            <p id="matrix-a-hint" class="text-sm theme-text-muted">
              rows × columns
            </p>
            <p class="text-sm theme-text-muted">
              (A columns auto-sync with B rows)
            </p>
          </div>
          <!-- Matrix B -->
          <div id="matrixBBox" class="rounded-xl theme-card border shadow-sm p-8 flex flex-col gap-6">
            <h2 class="text-xl font-semibold theme-text-secondary">
              Matrix B
            </h2>
            <div class="flex gap-6">
              <label class="flex flex-col text-sm font-medium theme-text-muted flex-1 uppercase tracking-wide">
                Rows
                <input id="matrixB_rows" type="number" min="1" inputmode="numeric" placeholder="6" value="30"
                  aria-describedby="matrix-b-hint"
                  class="mt-2 w-full rounded-md border theme-input px-4 py-3 text-lg focus:outline-none focus:ring-2 focus:ring-neutral-400">
              </label>
              <label class="flex flex-col text-sm font-medium theme-text-muted flex-1 uppercase tracking-wide">
                Columns
                <input id="matrixB_cols" type="number" min="1" inputmode="numeric" placeholder="10" value="300"
                  aria-describedby="matrix-b-hint"
                  class="mt-2 w-full rounded-md border theme-input px-4 py-3 text-lg focus:outline-none focus:ring-2 focus:ring-neutral-400">
              </label>
            </div>
            <p id="matrix-b-hint" class="text-sm theme-text-muted">
              rows × columns
            </p>
          </div>
        </div>
        <!-- Unified apply button -->
        <div class="mt-10 flex justify-center">
          <button id="applyMatricesBtn" type="button"
            class="w-full md:w-auto inline-flex items-center justify-center rounded-md border theme-button px-8 py-4 text-lg font-medium shadow-sm hover:opacity-80 focus:outline-none focus:ring-2 focus:ring-neutral-300 transition">
            <span id="applyBtnLabel" aria-live="polite">Apply Matrices</span>
          </button>
        </div>
      </div>
    </main>
    <script src="app.js"></script>
  </body>
</html>
